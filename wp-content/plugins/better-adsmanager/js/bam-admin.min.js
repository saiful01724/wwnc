String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var Better_Ads_Manager_Admin=function(e){"use strict";return{init:function(){Better_Ads_Manager_Admin.responsive_fields(),Better_Ads_Manager_Admin.repeater_smart_label(),Better_Ads_Manager_Admin.smart_label()},responsive_fields:function(){Better_Ads_Manager_Admin.update_responsive_fields(),e('.bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][type]"], .bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][format]"]').on("change",function(){Better_Ads_Manager_Admin.update_responsive_fields()})},update_responsive_fields:function(){var t=e('.bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][type]"]:checked').attr("value"),a=e('.bf-controls-image_radio-option  input[name="bf-metabox-option[better_ads_banner_options][format]"]:checked').attr("value"),n=e('.bf-section[data-id="responsive_options"] .better-ads-table');"amp"==a?e(".responsive-field-container").slideUp():(e(".responsive-field-container").slideDown(),"code"==t?n.addClass("show-sizes"):n.removeClass("show-sizes"))},smart_label:function(){e(".fields-group.better-ads-ad-group-field").on("change",'input[name$="-active"],select[name$="_type"],select[name$="_banner"],select[name$="_campaign"]',function(){Better_Ads_Manager_Admin.update_field_label(e(this).closest(".fields-group.better-ads-ad-group-field"))}).find('select[name$="_type"]').change()},update_field_label:function(e){var t=[],a='<span style="color: #b1b1b1;">[ </span>',n='<span style="color: #b1b1b1;"> ]</span>',i='<span style="color: #9e9e9e;"> '+better_adsmanager_loc.arrow+" </span>",r=better_adsmanager_loc.translation.inactive;void 0!==e.find('input[name$="post_type"]').val()&&t.push(a+e.find('input[name$="post_type"]').val().capitalize()+n);var s=e.find('select[name$="_type"] option:selected').val(),o=e.find('select[name$="_banner"] option:selected').val(),l=e.find('select[name$="_banner"] option:selected').text(),p=e.find('select[name$="_campaign"] option:selected').val(),d=e.find('select[name$="_campaign"] option:selected').text();"banner"===s?(t.push(a+better_adsmanager_loc.translation.banner+n),"none"===o?t.push(a+'<b style="color: red;">'+better_adsmanager_loc.translation.in_active_banner+"</b>"+n):t.push(a+'<b style="color: green;">'+l.replace("[","(").replace("]",")")+"</b>"+n)):"campaign"===s&&(t.push(a+better_adsmanager_loc.translation.campaign+n),"none"===p?t.push(a+'<b style="color: red;">'+better_adsmanager_loc.translation.in_active_campaign+"</b>"+n):t.push(a+'<b style="color: green;">'+d+"</b>"+n)),1==t.length&&t.push(a+'<b style="color: red;">'+r+"</b>"+n),e.find(".fields-group-title-container .fields-group-title .ad-state-indicator").length<1&&e.find(".fields-group-title-container .fields-group-title").append('<p class="ad-state-indicator"></p>'),t.length>0?e.find(".fields-group-title-container .fields-group-title .ad-state-indicator").html(t.join(i)):e.find(".fields-group-title-container .fields-group-title .ad-state-indicator").html(a+'<b style="color: red;">'+r+"</b>"+n)},repeater_smart_label:function(){e(".bf-section.better-ads-repeater-ad-field").on("keyup",'input[name$="[post_type]"],input[name$="[paragraph]"]',function(){Better_Ads_Manager_Admin.update_repeater_field_label(e(this).closest(".bf-repeater-item"))}).on("repeater_item_added",function(){Better_Ads_Manager_Admin.update_repeater_field_label(e(this).find(".bf-repeater-item:last"))}),e(".bf-section.better-ads-repeater-ad-field").on("change",'select[name$="[type]"],select[name$="[banner]"],select[name$="[campaign]"]',function(){Better_Ads_Manager_Admin.update_repeater_field_label(e(this).closest(".bf-repeater-item"))}).find('select[name$="[type]"]').change()},update_repeater_field_label:function(e){var t=[],a='<span style="color: #b1b1b1;">[ </span>',n='<span style="color: #b1b1b1;"> ]</span>',i='<span style="color: #9e9e9e;"> '+better_adsmanager_loc.arrow+" </span>",r=better_adsmanager_loc.translation.inactive;if(void 0!==e.find('input[name$="[post_type]"]').val()&&t.push(a+e.find('input[name$="[post_type]"]').val().capitalize()+n),void 0!==e.find('input[name$="[paragraph]"]').val()){var s=parseInt(e.find('input[name$="[paragraph]"]').val()||0),o=3;s?(s>=1&&s<=3&&(o=s-1),t.push(a+better_adsmanager_loc.translation.after_x_paragraph[o].replace("%s",s)+n)):t.push(a+"-"+n)}var l=e.find('select[name$="[type]"] option:selected').val(),p=e.find('select[name$="[banner]"] option:selected').val(),d=e.find('select[name$="[banner]"] option:selected').text(),c=e.find('select[name$="[campaign]"] option:selected').val(),_=e.find('select[name$="[campaign]"] option:selected').text();"banner"===l?(t.push(a+better_adsmanager_loc.translation.banner+n),"none"===p?t.push(a+'<b style="color: red;">'+better_adsmanager_loc.translation.in_active_banner+"</b>"+n):t.push(a+'<b style="color: green;">'+d.replace("[","(").replace("]",")")+"</b>"+n)):"campaign"===l&&(t.push(a+"Campaign"+n),"none"===c?t.push(a+'<b style="color: red;">'+better_adsmanager_loc.translation.in_active_campaign+"</b>"+n):t.push(a+'<b style="color: green;">'+_+"</b>"+n)),1==t.length&&t.push(a+'<b style="color: red;">'+r+"</b>"+n),t.length>0?e.find(".bf-repeater-item-title .handle-repeater-title-label").html(t.join(i)):e.find(".bf-repeater-item-title .handle-repeater-title-label").html(a+'<b style="color: red;">'+r+"</b>"+n)}}}(jQuery);jQuery(document).ready(function(){Better_Ads_Manager_Admin.init()});